<!DOCTYPE html>
<html>
<head>
  <title>Now Serving</title>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

  <!-- Malayalam-friendly font -->
  <style>
    body {
      background: black;
      color: white;
      text-align: center;
      font-family: "Noto Sans Malayalam", Arial, sans-serif;
    }

    .title {
      font-size: 70px;
      margin-top: 80px;
      line-height: 1.2;
    }

    #token {
      font-size: 220px;
      color: yellow;
      margin: 20px 0;
    }

    .footer {
      font-size: 60px;
      line-height: 1.3;
    }
  </style>

  <!-- Google Font for Malayalam -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Malayalam:wght@500;700&display=swap" rel="stylesheet">
</head>
<body>

<div class="title">
  ടോക്കൺ നമ്പർ<br>
  <span style="font-size:50px;">TOKEN NUMBER</span>
</div>

<div id="token">0</div>

<div class="footer">
  ദയവായി കൗണ്ടറിലേക്ക് സമീപിക്കുക<br>
  <span style="font-size:50px;">Please proceed to the counter</span>
</div>

<script>
  // Firebase Configuration
  const firebaseConfig = {
    apiKey: "AIzaSyDrkQuMiKfZC_NJqdKD87oHBsi-6P02t5g",
    authDomain: "token-system-b2122.firebaseapp.com",
    databaseURL: "https://token-system-b2122-default-rtdb.firebaseio.com",
    projectId: "token-system-b2122",
    storageBucket: "token-system-b2122.appspot.com",
    messagingSenderId: "573600353363",
    appId: "1:573600353363:web:7c4bec9266b74524610aa6"
  };

  firebase.initializeApp(firebaseConfig);

  firebase.database().ref("token").on("value", snap => {
    document.getElementById("token").innerText = snap.val() ?? 0;
  });
</script>

</body>
</html>
